blueprint:
  name: Different_switches_zigbee2mqtt
  source_url: https://raw.githubusercontent.com/remb0/blueprints/refs/heads/main/Different_switches_zigbee2mqtt.yaml
  author: remb0
  description: >-
    <div>
      <h2>ðŸ”” Switches!!</h2>
      <b>Version 0.91 Beta</b>â€ƒ|â€ƒðŸ”— <a href="https://github.com/remb0/blueprints/blob/main/Different_switches_zigbee2mqtt.yaml" target="_blank">Github Link</a>â€ƒ|â€ƒðŸ’¬ <a href="https://community.home-assistant.io/t/zigbee2mqtt-2-0-different-switches-aqara-opple-ikea/" target="_blank">Community Topic</a>
      </div>
      <br>   
    Control anything you want with Opple or Aqara switches like WXCJKG13LM 
    event_types: single_left, single_right, single_both, double_left, double_right, double_both, hold_left, hold_right, hold_both 
    Ikea buttons: event_types: on, off, brightness_move_up, brightness_move_down, brightness_stop 
    
    * Each band button has single, double, triple, hold & release.. 
      Switch Button Layout (little dot lower left). Switch could be rotated like you want:     
      .---.---.---.     
      | 2 | 4 | 6 |
      |   |   |   |
      |.1 | 3 | 5 |
      '---'---'---'

     ## ðŸ”§ Requirements:
    ***NOTE:*** Use zigbee2MQTT > 2025.1 or above whitout lecacy options 

    ***Changelog:***
    added Philips
    added Aqara WXKG07LM for DAVIZINHO (Aqara_switches)  

    ***Todo***
    - ikea E2001/E2002
    - description how to deliver and check net brands/modens and event_types
    - better looking blueprint

    ***Compatibility list:***
    Aqara: Aqara (double) rocker, WXKG07LM, 
    Aqara: single switches: WXKG12LM, WXKG01LM (single switch)
    Ikea:  E1743
    Lidl: HG08164 (single switch)
    Opple: WXCJKG12LM, WXCJKG13LM
    Philips: 929003017102, 929002398602, 324131092621

  domain: automation
  homeassistant:
    min_version: 2024.12.0
  input:
    input_switch:
      name: switch
      description: Switch to use *
      selector:
        entity:
          domain:
          - event
          integration: mqtt
          multiple: false
#Ikea          
    Ikea_sensor:
      name: Ikea sensor
      description:  Compatiible with E1743,E2001/E2002
      icon: mdi:cog
      collapsed: true
      input:
        aan:
          name: Ikea On button
          description: Action to after click on
          default: []
          selector:
            action: {}   
        uit:
          name: Ikea Off button
          description: Action to after click off
          default: []
          selector:
            action: {}
#singles            
    single_switches:
      name: Single Aqara Switch
      icon: mdi:mdi:gesture-double-tap
      description: Aqara (WXKG01LM, WXKG12LM)
      collapsed: true      
      input:
        single:
          name: Single click
          description: Action to after click
          default: []
          selector:
            action: {}
        double:
          name: double click
          description: Action to after click
          default: []
          selector:
            action: {}   
        hold:
          name: hold
          description: Action after hold
          default: []
          selector:
            action: {}  
        release:
          name: release
          description: Action after release
          default: []
          selector:
            action: {}  
        shake:
          name: shake
          description: Action for shaking
          default: []
          selector:
            action: {}              

#aqara
    Aqara_switches:
      name: Aqara rocker and WXKG07LM switches
      description: Aqara switches to use (WXKG07LM, )
      collapsed: true          
      icon: mdi:cog
      input:
        single_left:
          name: Left button
          description: Action to run after single Left click
          default: []
          selector:
            action: {}      
        single_right:
          name: Right button
          description: Action to run after single right click
          default: []
          selector:
            action: {}
        hold_left:
          name: Hold Left button
          description: Action to run after holding Right
          default: []
          selector:
            action: {} 
        hold_right:
          name: Hold Right button
          description: Action to run after holding Right
          default: []
          selector:
            action: {}      
        hold_both:
          name: Hold both buttons
          description: Action to run after hold both buttons
          default: []
          selector:
            action: {}                                 
        single_both:
          name: single both buttons
          description: Action to run after single both click
          default: []
          selector:
            action: {}   
        double_left:
          name: double Left button
          description: Action to run after double left click
          default: []
          selector:
            action: {} 
        double_right:
          name: double Right button
          description: Action to run after double both click
          default: []
          selector:
            action: {}   
        double_both:
          name: double both buttons
          description: Action to run after single right click
          default: []
          selector:
            action: {}
#Opple                                                                                           
    Opple_switches:
      name: Opple switches
      collapsed: true        
      icon: mdi:buttons
      input:    
        button_1_single:
          name: Button 1 - Single Click
          description: Action to run after single click of button 1
          default: []
          selector:
            action: {}
        button_1_double:
          name: Button 1 - Double click
          description: Action to run after double click of button 1
          default: []
          selector:
            action: {}
        button_1_triple:
          name: Button 1 - Triple Click
          description: Action to run after triple click of button 1
          default: []
          selector:
            action: {}
        button_1_hold:
          name: Button 1 - Hold Down
          description: Action to run on holding down button 1
          default: []
          selector:
            action: {}
        button_1_release:
          name: Button 1 - Release after Hold
          description: Action to run after releasing button 1
          default: []
          selector:
            action: {}
        button_2_single:
          name: Button 2 - Single Click
          description: Action to run after single click of button 2
          default: []
          selector:
            action: {}
        button_2_double:
          name: Button 2 - Double click
          description: Action to run after double click of button 2
          default: []
          selector:
            action: {}
        button_2_triple:
          name: Button 2 - Triple Click
          description: Action to run after triple click of button 2
          default: []
          selector:
            action: {}
        button_2_hold:
          name: Button 2 - Hold Down
          description: Action to run on holding down button 2
          default: []
          selector:
            action: {}
        button_2_release:
          name: Button 2 - Release after Hold
          description: Action to run after releasing button 2
          default: []
          selector:
            action: {}
        button_3_single:
          name: Button 3 - Single Click
          description: Action to run after single click of button 3
          default: []
          selector:
            action: {}
        button_3_double:
          name: Button 3 - Double click
          description: Action to run after double click of button 3
          default: []
          selector:
            action: {}
        button_3_triple:
          name: Button 3 - Triple Click
          description: Action to run after triple click of button 3
          default: []
          selector:
            action: {}
        button_3_hold:
          name: Button 3 - Hold Down
          description: Action to run on holding down button 3
          default: []
          selector:
            action: {}
        button_3_release:
          name: Button 3 - Release after Hold
          description: Action to run after releasing button 3
          default: []
          selector:
            action: {}
        button_4_single:
          name: Button 4 - Single Click
          description: Action to run after single click of button 4
          default: []
          selector:
            action: {}
        button_4_double:
          name: Button 4 - Double click
          description: Action to run after double click of button 4
          default: []
          selector:
            action: {}
        button_4_triple:
          name: Button 4 - Triple Click
          description: Action to run after triple click of button 4
          default: []
          selector:
            action: {}
        button_4_hold:
          name: Button 4 - Hold Down
          description: Action to run on holding down button 4
          default: []
          selector:
            action: {}
        button_4_release:
          name: Button 4 - Release after Hold
          description: Action to run after releasing button 4
          default: []
          selector:
            action: {}
        button_5_single:
          name: Button 5 - Single Click
          description: Action to run after single click of button 5
          default: []
          selector:
            action: {}
        button_5_double:
          name: Button 5 - Double click
          description: Action to run after double click of button 5
          default: []
          selector:
            action: {}
        button_5_triple:
          name: Button 5 - Triple Click
          description: Action to run after triple click of button 5
          default: []
          selector:
            action: {}
        button_5_hold:
          name: Button 5 - Hold Down
          description: Action to run on holding down button 5
          default: []
          selector:
            action: {}
        button_5_release:
          name: Button 5 - Release after Hold
          description: Action to run after releasing button 5
          default: []
          selector:
            action: {}
        button_6_single:
          name: Button 6 - Single Click
          description: Action to run after single click of button 6
          default: []
          selector:
            action: {}
        button_6_double:
          name: Button 6 - Double click
          description: Action to run after double click of button 6
          default: []
          selector:
            action: {}
        button_6_triple:
          name: Button 6 - Triple Click
          description: Action to run after triple click of button 6
          default: []
          selector:
            action: {}
        button_6_hold:
          name: Button 6 - Hold Down
          description: Action to run on holding down button 6
          default: []
          selector:
            action: {}
        button_6_release:
          name: Button 6 - Release after Hold
          description: Action to run after releasing button 6
          default: []
          selector:
            action: {}
#Philips    
    Philips_switches:
      name: Philips
      description: Compatiible with 929003017102, 929002398602, 324131092621
      icon: mdi:cog
      collapsed: true   
      input: 
        left_press:
          name: Left Press
          description: Action for left_press
          default: []
          selector:
            action: {}
        left_press_release:
          name: Left Press Release
          description: Action for left_press_release
          default: []
          selector:
            action: {}
        right_press:
          name: Right Press
          description: Action for right_press
          default: []
          selector:
            action: {}
        right_press_release:
          name: Right Press Release
          description: Action for right_press_release
          default: []
          selector:
            action: {}
        left_hold:
          name: Left Hold
          description: Action for left_hold
          default: []
          selector:
            action: {}
        left_hold_release:
          name: Left Hold Release
          description: Action for left_hold_release
          default: []
          selector:
            action: {}
        right_hold:
          name: Right Hold
          description: Action for right_hold
          default: []
          selector:
            action: {}
        right_hold_release:
          name: Right Hold Release
          description: Action for right_hold_release
          default: []
          selector:
            action: {}
        toggle:
          name: Toggle
          description: Action for toggle
          default: []
          selector:
            action: {}
        on_press:
          name: On Press
          description: Action for on_press
          default: []
          selector:
            action: {}
        on_hold:
          name: On Hold
          description: Action for on_hold
          default: []
          selector:
            action: {}
        on_press_release:
          name: On Press Release
          description: Action for on_press_release
          default: []
          selector:
            action: {}
        on_hold_release:
          name: On Hold Release
          description: Action for on_hold_release
          default: []
          selector:
            action: {}   
        off_press:
          name: Off Press
          description: Action for off_press
          default: []
          selector:
            action: {}
        off_hold:
          name: Off Hold
          description: Action for off_hold
          default: []
          selector:
            action: {}
        off_press_release:
          name: Off Press Release
          description: Action for off_press_release
          default: []
          selector:
            action: {}
        off_hold_release:
          name: Off Hold Release
          description: Action for off_hold_release
          default: []
          selector:
            action: {}
        up_press:
          name: Up Press
          description: Action for up_press
          default: []
          selector:
            action: {}
        up_hold:
          name: Up Hold
          description: Action for up_hold
          default: []
          selector:
            action: {}
        up_press_release:
          name: Up Press Release
          description: Action for up_press_release
          default: []
          selector:
            action: {}
        up_hold_release:
          name: Up Hold Release
          description: Action for up_hold_release
          default: []
          selector:
            action: {}
        down_press:
          name: Down Press
          description: Action for down_press
          default: []
          selector:
            action: {}
        down_hold:
          name: Down Hold
          description: Action for down_hold
          default: []
          selector:
            action: {}
        down_press_release:
          name: Down Press Release
          description: Action for down_press_release
          default: []
          selector:
            action: {}
        down_hold_release:
          name: Down Hold Release
          description: Action for down_hold_release
          default: []
          selector:
            action: {}
        recall_0:
          name: Recall 0
          description: Action for recall_0
          default: []
          selector:
            action: {}
        recall_1:
          name: Recall 1
          description: Action for recall_1
          default: []
          selector:
            action: {}         
    Sample_switches:
      name: Sample switches
      collapsed: true        
      icon: mdi:buttons
      input:    
        button_eventname:
          name: Button 1 - Description
          description: Action to run after .....
          default: []
          selector:
            action: {}                       
mode: parallel
max_exceeded: silent
trigger:
- platform: state
  entity_id: !input input_switch
condition:
  condition: template
  value_template: '{{ trigger.to_state.attributes.event_type in (
    ''on'',''off'',  
    ''single'',''double'',''hold'',''release'',''shake'',
    ''single_left'',''single_right'',''single_both'',''double_left'',''double_right'',''double_both'',
    ''hold_left'',''hold_right'',''hold_both'',
    ''button_1_single'', ''button_1_double'', ''button_1_triple'', ''button_1_hold'', ''button_1_release'',
    ''button_2_single'', ''button_2_double'', ''button_2_triple'', ''button_2_hold'', ''button_2_release'', 
    ''button_3_single'',''button_3_double'', ''button_3_triple'',  ''button_3_hold'', ''button_3_release'', 
    ''button_4_single'', ''button_4_double'',''button_4_triple'', ''button_4_hold'', ''button_4_release'', 
    ''button_5_single'', ''button_5_double'', ''button_5_triple'', ''button_5_hold'', ''button_5_release'',
    ''button_6_single'', ''button_6_double'', ''button_6_triple'', ''button_6_hold'',''button_6_release'', 
    ''left_press'',''left_press_release'',''right_press'',''right_press_release'',''left_hold'',''left_hold_release'',''right_hold'',''right_hold_release'',''toggle'',''on_press'',''on_hold'',''on_press_release'',''on_hold_release'',''off_press'',''off_hold'',''off_press_release'',''off_hold_release'',''up_press'',''up_hold'',''up_press_release'',''up_hold_release'',''down_press'',''down_hold'',''down_press_release'',''down_hold_release'',''recall_0'',''recall_1''    
    ) }}'
action:
- variables:
    command: '{{ trigger.to_state.attributes.event_type }}'
- choose:
  - conditions:
    - '{{ command == ''on'' }}'
    sequence: !input aan
  - conditions:
    - '{{ command == ''off'' }}'  
    sequence: !input uit
  - conditions:
    - '{{ command == ''single'' }}'
    sequence: !input single
  - conditions:
    - '{{ command == ''double'' }}'
    sequence: !input double
  - conditions:
    - '{{ command == ''hold'' }}'
    sequence: !input hold
  - conditions:
    - '{{ command == ''release'' }}'
    sequence: !input release
  - conditions:
    - '{{ command == ''shake'' }}'
    sequence: !input shake                
  - conditions:
    - '{{ command == ''single_left'' }}'
    sequence: !input single_left
  - conditions:
    - '{{ command == ''single_right'' }}'
    sequence: !input single_right
  - conditions:
    - '{{ command == ''single_both'' }}'
    sequence: !input single_both
  - conditions:
    - '{{ command == ''double_left'' }}'
    sequence: !input double_left
  - conditions:
    - '{{ command == ''double_right'' }}'
    sequence: !input double_right 
  - conditions:
    - '{{ command == ''double_both'' }}'
    sequence: !input double_both
  - conditions:
    - '{{ command == ''hold_left'' }}'
    sequence: !input hold_left
  - conditions:
    - '{{ command == ''hold_right'' }}'
    sequence: !input hold_right
  - conditions:
    - '{{ command == ''hold_both'' }}'
    sequence: !input hold_both                               
  - conditions:
    - '{{ command == ''button_1_single'' }}'
    sequence: !input button_1_single
  - conditions:
    - '{{ command == ''button_2_single'' }}'
    sequence: !input button_2_single
  - conditions:
    - '{{ command == ''button_3_single'' }}'
    sequence: !input button_3_single
  - conditions:
    - '{{ command == ''button_4_single'' }}'
    sequence: !input button_4_single
  - conditions:
    - '{{ command == ''button_5_single'' }}'
    sequence: !input button_5_single
  - conditions:
    - '{{ command == ''button_6_single'' }}'
    sequence: !input button_6_single
  - conditions:
    - '{{ command == ''button_1_double'' }}'
    sequence: !input button_1_double
  - conditions:
    - '{{ command == ''button_2_double'' }}'
    sequence: !input button_2_double
  - conditions:
    - '{{ command == ''button_3_double'' }}'
    sequence: !input button_3_double
  - conditions:
    - '{{ command == ''button_4_double'' }}'
    sequence: !input button_4_double
  - conditions:
    - '{{ command == ''button_5_double'' }}'
    sequence: !input button_5_double
  - conditions:
    - '{{ command == ''button_6_double'' }}'
    sequence: !input button_6_double
  - conditions:
    - '{{ command == ''button_1_triple'' }}'
    sequence: !input button_1_triple
  - conditions:
    - '{{ command == ''button_2_triple'' }}'
    sequence: !input button_2_triple
  - conditions:
    - '{{ command == ''button_3_triple'' }}'
    sequence: !input button_3_triple
  - conditions:
    - '{{ command == ''button_4_triple'' }}'
    sequence: !input button_4_triple
  - conditions:
    - '{{ command == ''button_5_triple'' }}'
    sequence: !input button_5_triple
  - conditions:
    - '{{ command == ''button_6_triple'' }}'
    sequence: !input button_6_triple
  - conditions:
    - '{{ command == ''button_1_hold'' }}'
    sequence: !input button_1_hold
  - conditions:
    - '{{ command == ''button_2_hold'' }}'
    sequence: !input button_2_hold
  - conditions:
    - '{{ command == ''button_3_hold'' }}'
    sequence: !input button_3_hold
  - conditions:
    - '{{ command == ''button_4_hold'' }}'
    sequence: !input button_4_hold
  - conditions:
    - '{{ command == ''button_5_hold'' }}'
    sequence: !input button_5_hold
  - conditions:
    - '{{ command == ''button_6_hold'' }}'
    sequence: !input button_6_hold
  - conditions:
    - '{{ command == ''button_1_release'' }}'
    sequence: !input button_1_release
  - conditions:
    - '{{ command == ''button_2_release'' }}'
    sequence: !input button_2_release
  - conditions:
    - '{{ command == ''button_3_release'' }}'
    sequence: !input button_3_release
  - conditions:
    - '{{ command == ''button_4_release'' }}'
    sequence: !input button_4_release
  - conditions:
    - '{{ command == ''button_5_release'' }}'
    sequence: !input button_5_release
  - conditions:
    - '{{ command == ''button_6_release'' }}'
    sequence: !input button_6_release
#philips
  - conditions:
    - '{{ command == ''left_press'' }}'
    sequence: !input left_press
  - conditions:
    - '{{ command == ''left_press_release'' }}'
    sequence: !input left_press_release
  - conditions:
    - '{{ command == ''right_press'' }}'
    sequence: !input right_press
  - conditions:
    - '{{ command == ''right_press_release'' }}'
    sequence: !input right_press_release
  - conditions:
    - '{{ command == ''left_hold'' }}'
    sequence: !input left_hold
  - conditions:
    - '{{ command == ''left_hold_release'' }}'
    sequence: !input left_hold_release
  - conditions:
    - '{{ command == ''right_hold'' }}'
    sequence: !input right_hold
  - conditions:
    - '{{ command == ''right_hold_release'' }}'
    sequence: !input right_hold_release
  - conditions:
    - '{{ command == ''toggle'' }}'
    sequence: !input toggle
  - conditions:
    - '{{ command == ''on_press'' }}'
    sequence: !input on_press
  - conditions:
    - '{{ command == ''on_hold'' }}'
    sequence: !input on_hold
  - conditions:
      '{{ command == ''on_press_release'' }}'
    sequence: !input on_press_release
  - conditions:
    - '{{ command == ''on_hold_release'' }}'
    sequence: !input on_hold_release
  - conditions:
    -  '{{ command == ''off_press'' }}'
    sequence: !input off_press
  - conditions:
    - '{{ command == ''off_hold'' }}'
    sequence: !input off_hold
  - conditions:
    - '{{ command == ''off_press_release'' }}'
    sequence: !input off_press_release
  - conditions:
    - '{{ command == ''off_hold_release'' }}'
    sequence: !input off_hold_release
  - conditions:
    - '{{ command == ''up_press'' }}'
    sequence: !input up_press
  - conditions:
    - '{{ command == ''up_hold'' }}'
    sequence: !input up_hold
  - conditions:
    - '{{ command == ''up_press_release'' }}'
    sequence: !input up_press_release
  - conditions:
    - '{{ command == ''up_hold_release'' }}'
    sequence: !input up_hold_release
  - conditions:
    - '{{ command == ''down_press'' }}'
    sequence: !input down_press
  - conditions:
    - '{{ command == ''down_hold'' }}'
    sequence: !input down_hold
  - conditions:
    - '{{ command == ''down_press_release'' }}'
    sequence: !input down_press_release
  - conditions:
    - '{{ command == ''down_hold_release'' }}'
    sequence: !input down_hold_release
  - conditions:
    - '{{ command == ''recall_0'' }}'
    sequence: !input recall_0
  - conditions:
    - '{{ command == ''recall_1'' }}'
    sequence: !input recall_1
